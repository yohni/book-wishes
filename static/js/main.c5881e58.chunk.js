(this["webpackJsonpmark-book"]=this["webpackJsonpmark-book"]||[]).push([[0],{134:function(e,t){var c=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).CONTRACT_NAME||"mindy11.testnet";e.exports=function(e){switch(e){case"mainnet":return{networkId:"mainnet",nodeUrl:"https://rpc.mainnet.near.org",contractName:c,walletUrl:"https://wallet.near.org",helperUrl:"https://helper.mainnet.near.org"};case"production":case"development":case"testnet":return{networkId:"testnet",nodeUrl:"https://rpc.testnet.near.org",contractName:c,walletUrl:"https://wallet.testnet.near.org",helperUrl:"https://helper.testnet.near.org"};case"betanet":return{networkId:"betanet",nodeUrl:"https://rpc.betanet.near.org",contractName:c,walletUrl:"https://wallet.betanet.near.org",helperUrl:"https://helper.betanet.near.org"};case"local":return{networkId:"local",nodeUrl:"http://localhost:3030",keyPath:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).HOME,"/.near/validator_key.json"),walletUrl:"http://localhost:4000/wallet",contractName:c};case"test":case"ci":return{networkId:"shared-test",nodeUrl:"https://rpc.ci-testnet.near.org",contractName:c,masterAccount:"test.near"};case"ci-betanet":return{networkId:"shared-test-staging",nodeUrl:"https://rpc.ci-betanet.near.org",contractName:c,masterAccount:"test.near"};default:throw Error("Unconfigured environment '".concat(e,"'. Can be configured in src/config.js."))}}},146:function(e,t){},156:function(e,t){},174:function(e,t){},202:function(e,t,c){},324:function(e,t,c){"use strict";c.r(t);var n=c(2),s=c.n(n),a=c(7),r=c(19),o=c(1),i=c(63),l=c.n(i),d=c(49),b=(c(202),c(203),c(204),c(205),c(20)),j=c(5),h=c(3),m=c(4),u=c(64),x=c(128),O=c.n(x),p=c(13),f=c(10),g=c.n(f),v=c(27),N=c(135),k=c(37),w=c(0),y=Object(o.createContext)();function _(){return Object(o.useContext)(y)}function S(e){var t=e.children,c=e.value;return Object(w.jsx)(y.Provider,{value:c,children:t})}var C=function(){return Object(w.jsx)("div",{className:"fixed inset-0 bg-gray-600 z-50 bg-opacity-50 flex justify-center items-center",children:Object(w.jsx)("div",{className:"animate-spin h-8 w-8 border-t-4 border-r-4 border-solid border-bookwishes rounded-full"})})},T=function(e){var t=e.children,c=e.className;return Object(w.jsx)("h1",{className:g()("typo-h1",c),children:t})},U=function(e){var t=e.children,c=e.className;return Object(w.jsx)("h2",{className:g()("typo-h2",c),children:t})},E=function(e){var t=e.children,c=e.className;return Object(w.jsx)("p",{className:g()("typo-sub",c),children:t})},A=function(e){var t=e.children,c=e.className;return Object(w.jsx)("p",{className:g()("text-lg",c),children:t})},L=function(e){var t=e.id,c=e.children,n=e.text,s=e.actionText,a=e.handleClick,r=e.className,o=e.noAction,i=void 0!==o&&o;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("label",{for:"bookwish__modal".concat(t),className:g()("btn btn-primary modal-button",r),children:n||"Click me"}),Object(w.jsx)("input",{type:"checkbox",id:"bookwish__modal".concat(t),className:"modal-toggle"}),Object(w.jsxs)("div",{className:"modal",children:[Object(w.jsx)("label",{for:"bookwish__modal".concat(t),className:"absolute inset-0"}),Object(w.jsxs)("div",{className:"modal-box",children:[c,!i&&Object(w.jsxs)("div",{className:"modal-action",children:[s&&Object(w.jsx)("label",{for:"bookwish__modal".concat(t),onClick:a,className:"btn btn-accent bg-bookwishes border-none",children:s}),Object(w.jsx)("label",{for:"bookwish__modal".concat(t),className:"btn",children:"Close"})]})]})]})]})},B=k.a({title:k.b().required(),status:k.b().required(),description:k.b().required(),image:k.b().required()}).required(),F=function(e){var t,c,n,s,r=e.bookData,i=e.id,l=_().contract,d=Object(o.useState)(!1),b=Object(m.a)(d,2),j=b[0],h=b[1],u=Object(v.d)({resolver:Object(N.a)(B),defaultValues:Object(o.useMemo)((function(){return r}),[r])}),x=u.register,O=u.handleSubmit,f=u.reset,g=u.formState.errors;Object(o.useEffect)((function(){f(r)}),[r]);return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("form",{onSubmit:O((function(e){h(!0),r?l.update_book(Object(a.a)({book_id:r.book_id},e)).then((function(){return p.b.success("Book updated! \ud83e\udd18")})).then((function(){return window.location.reload(!1)})).catch((function(e){console.log(e),h(!1),p.b.error("Failed to update the book! \ud83d\ude22")})):l.add_book({book:e}).then((function(){return h(!1)})).then((function(){return p.b.success("Book added! \ud83e\udd18")})).then((function(){return window.location.reload(!1)})).catch((function(e){console.log(e),h(!1),p.b.error("Failed to add the book! \ud83d\ude22")}))})),children:[Object(w.jsx)(E,{className:"mb-4",children:r?"Book Detail":"Add new book"}),Object(w.jsxs)("div",{className:"form-control mb-2",children:[Object(w.jsx)("label",{className:"label",children:Object(w.jsx)("span",{className:"label-text",children:"Title"})}),Object(w.jsx)("input",Object(a.a)(Object(a.a)({},x("title")),{},{type:"text",placeholder:"title",className:"input input-bordered",value:null===r||void 0===r?void 0:r.title,disabled:null===r||void 0===r?void 0:r.title})),Object(w.jsx)("p",{className:"text-error text-sm",children:null===(t=g.title)||void 0===t?void 0:t.message})]}),Object(w.jsxs)("div",{className:"form-control mb-2",children:[Object(w.jsx)("label",{className:"label",children:Object(w.jsx)("span",{className:"label-text",children:"Description"})}),Object(w.jsx)("textarea",Object(a.a)(Object(a.a)({},x("description")),{},{type:"text",placeholder:"description",className:"textarea h-24 textarea-bordered",value:null===r||void 0===r?void 0:r.description,disabled:null===r||void 0===r?void 0:r.description})),Object(w.jsx)("p",{className:"text-error text-sm",children:null===(c=g.description)||void 0===c?void 0:c.message})]}),Object(w.jsxs)("div",{className:"form-control mb-2",children:[Object(w.jsx)("label",{className:"label",children:Object(w.jsx)("span",{className:"label-text",children:"Image Link"})}),Object(w.jsx)("input",Object(a.a)(Object(a.a)({},x("image")),{},{type:"text",placeholder:"eg.https://example.png",className:"input input-bordered",value:null===r||void 0===r?void 0:r.image,disabled:null===r||void 0===r?void 0:r.image})),Object(w.jsx)("p",{className:"text-error text-sm",children:null===(n=g.image)||void 0===n?void 0:n.message})]}),Object(w.jsxs)("div",{className:"form-control mb-2",children:[Object(w.jsx)("label",{className:"label",children:Object(w.jsx)("span",{className:"label-text",children:"Status"})}),Object(w.jsxs)("select",Object(a.a)(Object(a.a)({},x("status")),{},{className:"select select-bordered w-full",children:[Object(w.jsx)("option",{selected:"List"===(null===r||void 0===r?void 0:r.status),children:"List"}),Object(w.jsx)("option",{selected:"Read"===(null===r||void 0===r?void 0:r.status),children:"Read"}),Object(w.jsx)("option",{selected:"Finished"===(null===r||void 0===r?void 0:r.status),children:"Finished"})]})),Object(w.jsx)("p",{className:"text-error text-sm",children:null===(s=g.status)||void 0===s?void 0:s.message})]}),r&&Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{className:"divider opacity-20"}),Object(w.jsx)(L,{id:"remove".concat(i),text:"Remove the book",actionText:"Yes",className:"btn-outline btn-error w-full ",handleClick:function(){return h(!0),void(r&&l.delete_book({book_id:r.book_id}).then((function(){return h(!1)})).then((function(){return p.b.success("Book removed! \ud83e\udd27")})).then((function(){return window.location.reload(!1)})).catch((function(e){console.log(e),h(!1),p.b.error("Failed to remove the book! \ud83d\ude22")})))},children:Object(w.jsxs)(A,{className:"mt-5",children:["Do you want to remove the book"," ",Object(w.jsx)("b",{className:"text-error",children:r.title}),"?"]})})]}),Object(w.jsxs)("div",{className:"modal-action",children:[Object(w.jsx)("input",{for:"bookwish__modal".concat(i),className:"btn btn-accent bg-bookwishes",type:"submit",value:"Save"}),Object(w.jsx)("label",{for:"bookwish__modal".concat(i),className:"btn",children:"Close"})]})]}),j&&Object(w.jsx)(C,{})]})},I=function(e){var t=e.image,c=e.title,n=e.description,s=e.status,a=e.account_id,r=e.book_id,o=e.id,i={list:"bg-error text-white",read:"bg-success text-white",finished:"bg-gray-500 text-white","best seller":"bg-warning text-white"};return Object(w.jsxs)("div",{className:"card text-center flex-grow shadow-xl",children:[Object(w.jsx)("figure",{className:"px-10 pt-10",children:Object(w.jsx)("img",{src:t,className:"object-contain w-52 h-64",alt:""})}),Object(w.jsxs)("div",{className:"px-10 py-6 flex flex-col flex-grow",children:[Object(w.jsx)(E,{className:"card-title font-bold",children:c}),Object(w.jsx)(A,{className:"line-clamp  opacity-80 mb-6",children:n}),Object.keys(i).slice(0,3).includes(s.toLowerCase())?Object(w.jsx)(L,{id:o,noAction:!0,text:"Detail",className:" btn btn-primary mt-auto",children:Object(w.jsx)(F,{id:o,bookData:{image:t,title:c,description:n,status:s,book_id:r,account_id:a}})}):Object(w.jsx)(b.b,{className:" btn btn-primary mt-auto",to:"/library",children:"Go to Library"})]}),"All"!==s&&Object(w.jsx)(A,{className:g()("absolute top-8 right-0 font-bold py-2 rounded-l-2xl pr-4 pl-8 bg-white text-black",i[s.toLowerCase()]),children:s})]})},R=c(66),D=function(){return Object(w.jsxs)("div",{className:"bg-gray-100",children:[Object(w.jsxs)("footer",{className:"pt-10 pb-5 footer text-base-content container",children:[Object(w.jsxs)("div",{children:[Object(w.jsx)("span",{className:"footer-title",children:"Techs"}),Object(w.jsx)("a",{href:"https://reactjs.org/",className:"link link-hover",target:"_blank",rel:"noopener noreferrer",children:"React"}),Object(w.jsx)("a",{href:"https://near.org/",className:"link link-hover",target:"_blank",rel:"noopener noreferrer",children:"NEAR"}),Object(w.jsx)("a",{href:"https://daisyui.com/",className:"link link-hover",target:"_blank",rel:"noopener noreferrer",children:"Daisy UI"}),Object(w.jsx)("a",{href:"https://tailwindcss.com",className:"link link-hover",target:"_blank",rel:"noopener noreferrer",children:"Tailwind CSS"})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("span",{className:"footer-title",children:"About"}),Object(w.jsx)("a",{href:"https://yohnifinan.com/about",className:"link link-hover",target:"_blank",rel:"noopener noreferrer",children:"Me"}),Object(w.jsx)("a",{href:"https://yohnifinan.com",className:"link link-hover",target:"_blank",rel:"noopener noreferrer",children:"Portofolio"})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("span",{className:"footer-title",children:"Social"}),Object(w.jsxs)("div",{className:"grid grid-flow-col gap-4",children:[Object(w.jsx)("a",{className:"hover:text-bookwishes",href:"https://twitter.com/yohni_finan",children:Object(w.jsx)(R.b,{size:28})}),Object(w.jsx)("a",{className:"hover:text-bookwishes",href:"https://github.com/yohni",children:Object(w.jsx)(R.a,{size:28})}),Object(w.jsx)("a",{className:"hover:text-bookwishes",href:"mailto:yohni.123@gmail.com",children:Object(w.jsx)(R.c,{size:28})})]})]})]}),Object(w.jsx)("div",{className:"text-center w-full text-sm opacity-30 py-2",children:"\xa9 Copyright 2020 Yohni"})]})},M=function(){var e=Object(o.useState)(!1),t=Object(m.a)(e,2),c=t[0],n=t[1],s=_(),a=s.currentUser,r=s.wallet,i=function(){return n(!1)};return Object(w.jsx)("div",{className:"fixed inset-0 md:inset-x-0 md:top-0 md:bottom-auto md:bg-neutral pointer-events-none z-20",children:Object(w.jsxs)("div",{className:"max-w-6xl md:relative mx-auto md:py-1",children:[Object(w.jsxs)("div",{className:"navbar shadow-lg bg-neutral text-neutral-content z-20 relative pointer-events-auto",children:[Object(w.jsx)(b.b,{to:"/",className:"flex-1 px-2 mx-2",children:Object(w.jsxs)("div",{className:"flex items-center",children:[Object(w.jsx)("span",{className:"text-lg font-bold bg-bookwishes p-2 rounded-md",children:"BW"}),Object(w.jsx)("span",{className:"font-bold text-lg ml-2",children:"Book Wish"})]})}),Object(w.jsx)("div",{className:"flex-none md:hidden",children:Object(w.jsx)("button",{type:"button",className:"btn btn-square btn-ghost",onClick:function(){return n(!c)},children:Object(w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"inline-block w-6 h-6 stroke-current",children:Object(w.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})})})})]}),Object(w.jsx)("div",{className:"absolute md:h-auto inset-x-0 md:left-auto top-0 md:bottom-0 h-0 bg-neutral md:bg-transparent duration-300 transition-all z-10 md:z-20 flex justify-center items-center text-white md:mr-2 md:pr-2 pointer-events-auto ".concat(c&&"h-screen"),children:Object(w.jsxs)("div",{className:"flex flex-col md:flex-row items-stretch w-full md:w-min",children:[Object(w.jsx)(b.b,{to:"/",onClick:i,className:"btn btn-ghost btn-sm rounded-btn hover-effect",children:"Home"}),Object(w.jsx)(b.b,{to:"/library",onClick:i,className:"btn btn-ghost btn-sm rounded-btn hover-effect",children:"Library"}),!a&&Object(w.jsx)(b.b,{to:"/login",onClick:i,className:"btn btn-ghost btn-sm rounded-btn hover-effect",children:"Login"}),a&&Object(w.jsx)("button",{onClick:function(){r.signOut(),window.location.replace(window.location.origin+window.location.pathname)},className:"btn btn-ghost btn-sm text-red-600 rounded-btn md:border md:border-red-600 md:border-solid md:rounded-full hover:bg-red-600 hover:text-white md:px-4 hover-effect",children:"Logout"})]})})]})})},P=function(e){var t=e.children,c=e.className;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(M,{}),Object(w.jsx)("div",{className:g()("pt-16 min-h-screen pb-9",c),children:t}),Object(w.jsx)(D,{})]})},W=function(){var e=_(),t=e.contract,c=e.nearConfig,n=e.currentUser,s=e.wallet,r=Object(j.g)(),i=Object(o.useState)(null),l=Object(m.a)(i,2),d=l[0],b=l[1],x=Object(o.useState)(!1),f=Object(m.a)(x,2),g=f[0],v=f[1],N=Object(o.useState)(!0),k=Object(m.a)(N,2),y=k[0],S=k[1],A=Object(o.useState)([]),L=Object(m.a)(A,2),B=L[0],F=L[1],R=Object(o.useState)(0),D=Object(m.a)(R,2),M=D[0],W=D[1];Object(o.useEffect)((function(){!function(e){var c=e.skip,s=e.limit;v(!0),t.get_books({account_id:n.account_id,skip:c,limit:s}).then((function(e){return b(e)})).then((function(){return v(!1)})).catch((function(e){v(!1),console.log(e),p.b.error("Failed to fetch data \ud83d\ude22")}))}({skip:0,limit:10})}),[]),Object(o.useEffect)((function(){!function(e){var c=e.skip,s=e.limit;v(!0),t.get_books({account_id:n.account_id,skip:c,limit:s}).then((function(e){return F([].concat(Object(h.a)(e),Object(h.a)(B)))})).then((function(){return v(!1)})).catch((function(e){v(!1),S(!1),console.log(e),String(e).includes("please use a smaller skip")||p.b.error("Failed to fetch data \ud83d\ude22")}))}({skip:M,limit:10})}),[M]);return Object(w.jsxs)(P,{children:[Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{className:"container flex flex-col justify-center md:grid md:grid-cols-2 md:gap-x-16 my-auto py-9 md:py-24 min-h-splash",children:[Object(w.jsxs)("div",{className:"flex flex-col md:justify-center",children:[Object(w.jsxs)("div",{className:"mb-6",children:[Object(w.jsx)(E,{className:"mb-4",children:"Online Book Stores"}),Object(w.jsxs)(T,{className:"mb-4 md:mb-6",children:["Collect Your Most Wish Book by"," ",Object(w.jsx)("span",{className:"bg-primary_gradient bg-clip-text text-transparent",children:"One Click"})]}),Object(w.jsx)(E,{children:"Get your favorite book and pick the book to read next"})]}),Object(w.jsx)("button",{className:"btn btn-primary bg-secondary_gradient hover-effect btn-lg w-full border-none md:w-min whitespace-nowrap shadow-md",onClick:function(){v(!0),n?setTimeout((function(){r.push("/library")}),3e3):s.requestSignIn(c.contractName,"NEAR book wishes")},type:"button",children:"Sign Up Now"})]}),Object(w.jsx)("div",{children:Object(w.jsx)("img",{className:"max-w-2xl w-full mt-9",src:"https://firebasestorage.googleapis.com/v0/b/mindyksi.appspot.com/o/bookwishes%2Fsalyread.png?alt=media",alt:""})})]}),Object(w.jsxs)("div",{className:"py-9",children:[Object(w.jsxs)("div",{className:"container text-center mb-6",children:[Object(w.jsx)(U,{className:"mb-2 text-bookwishes",children:"Best Seller"}),Object(w.jsx)(E,{className:"",children:"Almost read by a lot of reader"})]}),Object(w.jsx)("div",{className:"mx-auto container px-4",children:Object(w.jsx)(O.a,Object(a.a)(Object(a.a)({},{dots:!0,infinite:!0,speed:500,slidesToShow:3,slidesToScroll:3,responsive:[{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:800,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}),{},{children:null===d||void 0===d?void 0:d.map((function(e,t){return Object(w.jsx)("div",{className:"p-4 h-full",children:Object(w.jsx)(I,Object(a.a)(Object(a.a)({},e),{},{status:"Best Seller"}))},t)}))}))})]}),Object(w.jsx)("div",{className:"py-14 md:py-48 bg-bookwishes text-white",children:Object(w.jsx)("div",{className:"container",children:Object(w.jsxs)(U,{children:[Object(w.jsx)("q",{className:"italic",children:"It is a good rule after reading a new book, never to allow yourself another new one till you have read an old one in between."}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),"\u2014C.S. Lewis"]})})}),Object(w.jsxs)("div",{className:"py-9",children:[Object(w.jsxs)("div",{className:"container text-center mb-6",children:[Object(w.jsx)(U,{className:"mb-2",children:"All book we have"}),Object(w.jsx)(E,{className:"",children:"Pick your book!"})]}),Object(w.jsx)(u.a,{dataLength:B.length,next:function(){W(M+10)},hasMore:y,loader:Object(w.jsx)("h4",{className:"text-center text-lg text-gray-400",children:"Catching more books..."}),children:Object(w.jsx)("div",{className:"container py-6 md:py-9",children:Object(w.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3 md:gap-9",children:B.map((function(e,t){return Object(w.jsx)("div",{className:"h-full flex flex-col",children:Object(w.jsx)(I,Object(a.a)({id:t},e))},t)}))})})}),!g&&B.length<1&&Object(w.jsxs)("div",{className:"w-full h-96 flex flex-col justify-center items-center text-xl",children:[Object(w.jsx)("div",{children:"\ud83d\ude45\ud83c\udffb\u200d\u2642\ufe0f"}),Object(w.jsx)("div",{className:"text-neutral opacity-60 font-bold",children:"Books not found!"})]})]})]}),g&&Object(w.jsx)(C,{})]})};var q=function(){var e=_(),t=e.nearConfig,c=e.currentUser,n=e.wallet,s=Object(o.useState)(!1),a=Object(m.a)(s,2),r=a[0],i=a[1];return c?Object(w.jsx)(j.a,{to:"/library"}):Object(w.jsxs)(P,{className:"flex items-stretch",children:[Object(w.jsxs)("div",{className:"container flex flex-col justify-center md:grid md:grid-cols-2 my-auto md:gap-16",children:[Object(w.jsx)("div",{children:Object(w.jsx)("img",{src:"https://firebasestorage.googleapis.com/v0/b/mindyksi.appspot.com/o/bookwishes%2Fsalyrocket.png?alt=media",alt:""})}),Object(w.jsxs)("div",{className:"flex flex-col md:justify-center",children:[Object(w.jsxs)("div",{className:"mb-6",children:[Object(w.jsx)(T,{className:"mb-4 md:mb-6",children:"Login and Enjoy Your Book"}),Object(w.jsx)(E,{children:"Get your favorite book and pick the book to read next"})]}),Object(w.jsx)("button",{className:"btn btn-primary hover-effect bg-primary_gradient w-full border-none md:w-min whitespace-nowrap shadow-md",onClick:function(){i(!0),n.requestSignIn(t.contractName,"NEAR book wishes")},type:"button",children:"Login with Near Wallet"})]})]}),r&&Object(w.jsx)(C,{})]})},H=function(){var e=_(),t=e.contract,c=(e.nearConfig,e.currentUser),n=(e.wallet,Object(o.useState)("All")),s=Object(m.a)(n,2),r=s[0],i=s[1],l=Object(o.useState)(!1),d=Object(m.a)(l,2),b=d[0],j=d[1],x=Object(o.useState)([]),O=Object(m.a)(x,2),f=O[0],v=O[1],N=Object(o.useState)([]),k=Object(m.a)(N,2),y=k[0],S=k[1],T=Object(o.useState)(0),U=Object(m.a)(T,2),E=U[0],B=U[1],R=Object(o.useState)(10),D=Object(m.a)(R,2),M=D[0],W=(D[1],Object(o.useState)(!0)),q=Object(m.a)(W,2),H=q[0],z=q[1],K=function(e){var n=e.skip,s=e.limit;j(!0),t.get_books({account_id:c.account_id,skip:n,limit:s}).then((function(e){v([].concat(Object(h.a)(f),Object(h.a)(e)))})).then((function(){return j(!1)})).catch((function(e){j(!1),z(!1),console.log(e),String(e).includes("please use a smaller skip")||p.b.error("Failed to fetch data \ud83d\ude22")}))};return Object(o.useEffect)((function(){K({skip:E,limit:M})}),[E,M]),Object(o.useEffect)((function(){K({skip:E,limit:M})}),[]),Object(o.useEffect)((function(){if(j(!0),"All"===r)S(f);else{var e=f.filter((function(e){return e.status===r}));S(e)}j(!1)}),[f,r]),Object(w.jsxs)(P,{children:[Object(w.jsx)("div",{className:"tabs tabs-boxed container mt-9 mb-5",children:["All","List","Read","Finished"].map((function(e,t){return Object(w.jsx)("button",{type:"button",onClick:(c=e,function(){i(c)}),className:g()("tab rounded-lg transition-colors duration-200",{"bg-bookwishes text-white":r===e}),children:Object(w.jsx)(A,{children:e})},t);var c}))}),Object(w.jsx)(u.a,{dataLength:y.length,next:function(){B(E+10)},hasMore:H,loader:Object(w.jsx)("h4",{className:"text-center text-lg text-gray-400",children:"Catching more books..."}),children:Object(w.jsx)("div",{className:"container py-6 md:py-9",children:Object(w.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3 md:gap-9",children:y.map((function(e,t){return Object(w.jsx)("div",{className:"h-full flex flex-col",children:Object(w.jsx)(I,Object(a.a)({id:t},e))},t)}))})})}),!b&&y.length<1&&Object(w.jsxs)("div",{className:"w-full h-96 flex flex-col justify-center items-center text-xl",children:[Object(w.jsx)("div",{children:"\ud83d\ude45\ud83c\udffb\u200d\u2642\ufe0f"}),Object(w.jsx)("div",{className:"text-neutral opacity-60 font-bold",children:"Books not found!"})]}),Object(w.jsx)(L,{noAction:!0,text:"+ New Book",className:"fixed bottom-8 right-8 shadow-2xl",children:Object(w.jsx)(F,{})}),b&&Object(w.jsx)(C,{})]})};var z=function(e){var t=e.path,c=e.exact,n=e.children;return _().currentUser?Object(w.jsx)(j.b,{path:t,exact:c,children:n}):Object(w.jsx)(j.a,{to:"/login"})},K=function(e){var t={contract:e.contract,nearConfig:e.nearConfig,currentUser:e.currentUser,wallet:e.wallet};return Object(w.jsx)("div",{className:"font-lato",children:Object(w.jsxs)(S,{value:t,children:[Object(w.jsx)(b.a,{children:Object(w.jsxs)(j.d,{children:[Object(w.jsx)(j.b,{path:"/login",children:Object(w.jsx)(q,{})}),Object(w.jsx)(z,{path:"/library",children:Object(w.jsx)(H,{})}),Object(w.jsx)(z,{path:"/",exact:!0,children:Object(w.jsx)(W,{})})]})}),Object(w.jsx)(p.a,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})})},Y=c(134),G=c.n(Y);function V(){return(V=Object(r.a)(s.a.mark((function e(){var t,c,n,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=G()("production"),e.next=3,d.connect(Object(a.a)({deps:{keyStore:new d.keyStores.BrowserLocalStorageKeyStore}},t));case 3:if(c=e.sent,!(n=new d.WalletConnection(c)).getAccountId()){e.next=11;break}return e.t0=n.getAccountId(),e.next=9,n.account().state();case 9:e.t1=e.sent.amount,r={accountId:e.t0,balance:e.t1};case 11:return e.next=13,new d.Contract(n.account(),t.contractName,{viewMethods:["get_book","get_books"],changeMethods:["add_book","update_book","delete_book"],sender:n.getAccountId()});case 13:return o=e.sent,e.abrupt("return",{contract:o,currentUser:r,nearConfig:t,walletConnection:n});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.nearInitPromise=function(){return V.apply(this,arguments)}().then((function(e){var t=e.contract,c=e.currentUser,n=e.nearConfig,s=e.walletConnection;l.a.render(Object(w.jsx)(K,{contract:t,currentUser:c,nearConfig:n,wallet:s}),document.getElementById("root"))}))}},[[324,1,2]]]);
//# sourceMappingURL=main.c5881e58.chunk.js.map