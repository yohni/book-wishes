(this["webpackJsonpmark-book"]=this["webpackJsonpmark-book"]||[]).push([[0],{116:function(e,t){},144:function(e,t,n){},167:function(e,t,n){"use strict";n.r(t);var c=n(5),r=n.n(c),s=n(31),o=n(72),a=n(1),i=n(73),l=n.n(i),d=n(32),b=(n(144),n(145),n(146),n(17)),h=n(2),j=n(30),m=n(74),u=n.n(m),x=n(13),p=n.n(x),O=n(0),f=function(e){var t=e.children,n=e.className;return Object(O.jsx)("h1",{className:p()("typo-h1",n),children:t})},g=function(e){var t=e.children,n=e.className;return Object(O.jsx)("h2",{className:p()("typo-h2",n),children:t})},w=function(e){var t=e.children,n=e.className;return Object(O.jsx)("p",{className:p()("typo-sub",n),children:t})},v=function(e){var t=e.children,n=e.className;return Object(O.jsx)("p",{className:p()("text-lg",n),children:t})},N=Object(a.createContext)();function k(){return Object(a.useContext)(N)}function y(e){var t=e.children,n=e.value;return Object(O.jsx)(N.Provider,{value:n,children:t})}var S=function(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],c=t[1],r=k(),s=r.currentUser,o=r.wallet,i=function(){return c(!1)};return Object(O.jsxs)("div",{className:"fixed inset-0 md:inset-x-0 md:top-0 md:bottom-auto md:bg-neutral pointer-events-none z-20",children:[Object(O.jsxs)("div",{className:"navbar shadow-lg bg-neutral text-neutral-content z-20 relative pointer-events-auto",children:[Object(O.jsx)(b.b,{to:"/",className:"flex-1 px-2 mx-2",children:Object(O.jsx)("span",{className:"text-lg font-bold",children:"BookWishes"})}),Object(O.jsx)("div",{className:"flex-none md:hidden",children:Object(O.jsx)("button",{type:"button",className:"btn btn-square btn-ghost",onClick:function(){return c(!n)},children:Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"inline-block w-6 h-6 stroke-current",children:Object(O.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})})})})]}),Object(O.jsx)("div",{className:"absolute md:h-auto inset-x-0 md:left-auto top-0 md:bottom-0 h-0 bg-neutral md:bg-transparent duration-300 transition-all z-10 md:z-20 flex justify-center items-center text-white md:mr-2 md:pr-2 pointer-events-auto ".concat(n&&"h-screen"),children:Object(O.jsxs)("div",{className:"flex flex-col md:flex-row items-stretch w-full md:w-min",children:[Object(O.jsx)(b.b,{to:"/",onClick:i,className:"btn btn-ghost btn-sm rounded-btn hover-effect",children:"Home"}),Object(O.jsx)(b.b,{to:"/library",onClick:i,className:"btn btn-ghost btn-sm rounded-btn hover-effect",children:"Library"}),!s&&Object(O.jsx)(b.b,{to:"/login",onClick:i,className:"btn btn-ghost btn-sm rounded-btn hover-effect",children:"Login"}),s&&Object(O.jsx)("button",{onClick:function(){o.signOut(),window.location.replace(window.location.origin+window.location.pathname)},className:"btn btn-ghost btn-sm text-red-600 rounded-btn md:border md:border-red-600 md:border-solid md:rounded-full hover:bg-red-600 hover:text-white md:px-4 hover-effect",children:"Logout"})]})})]})},C=function(e){var t=e.children,n=e.className;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(S,{}),Object(O.jsx)("div",{className:p()("pt-16 min-h-screen",n),children:t})]})},_=function(){var e=k(),t=e.contract,n=e.nearConfig,c=e.currentUser,r=e.wallet,o=Object(a.useState)(null),i=Object(j.a)(o,2),l=i[0],d=i[1],b=Object(a.useState)(!1),h=Object(j.a)(b,2),m=h[0],x=h[1];Object(a.useEffect)((function(){!function(){x(!0);try{t.get_books({account_id:c.account_id,skip:0,limit:5}).then((function(e){return d(e)})).then((function(){return x(!1)}))}catch(e){x(!1)}}()}),[]);return Object(O.jsx)(C,{children:Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"container flex flex-col justify-center md:grid md:grid-cols-2 md:gap-x-16 my-auto py-9 md:py-24 min-h-splash",children:[Object(O.jsxs)("div",{className:"flex flex-col md:justify-center",children:[Object(O.jsxs)("div",{className:"mb-6",children:[Object(O.jsx)(w,{className:"mb-4",children:"Online Book Stores"}),Object(O.jsxs)(f,{className:"mb-4 md:mb-6",children:["Collect Your Most Wish Book by"," ",Object(O.jsx)("span",{className:"bg-primary_gradient bg-clip-text text-transparent",children:"One Click"})]}),Object(O.jsx)(w,{children:"Get your favorite book and pick the book to read next"})]}),Object(O.jsx)("button",{className:"btn btn-primary bg-secondary_gradient hover-effect btn-lg w-full border-none md:w-min whitespace-nowrap shadow-md",onClick:function(){r.requestSignIn(n.contractName,"NEAR book wishes")},type:"button",children:"Sign Up Now"})]}),Object(O.jsx)("div",{children:Object(O.jsx)("img",{className:"max-w-2xl w-full mt-9",src:"https://firebasestorage.googleapis.com/v0/b/mindyksi.appspot.com/o/bookwishes%2Fsalyread.png?alt=media",alt:""})})]}),Object(O.jsxs)("div",{className:"py-7 md:py-9",children:[Object(O.jsxs)("div",{className:"container text-center mb-6",children:[Object(O.jsx)(g,{className:"mb-2",children:"Best Seller"}),Object(O.jsx)(w,{className:"",children:"Almost read by a lot of reader"})]}),Object(O.jsxs)("div",{className:"mx-auto container px-4",children:[m&&Object(O.jsx)("div",{children:"Loading"}),Object(O.jsx)(u.a,Object(s.a)(Object(s.a)({},{dots:!0,infinite:!0,speed:500,slidesToShow:4,slidesToScroll:4,responsive:[{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:800,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}),{},{children:null===l||void 0===l?void 0:l.map((function(e,t){return Object(O.jsx)("div",{className:"p-4 h-full",children:Object(O.jsxs)("div",{className:"card text-center shadow",children:[Object(O.jsx)("figure",{className:"px-10 pt-10",children:Object(O.jsx)("img",{src:e.image,className:"object-contain w-52 h-64",alt:""})}),Object(O.jsxs)("div",{className:"px-10 py-6 flex flex-col",children:[Object(O.jsx)(w,{className:"card-title font-bold",children:e.title}),Object(O.jsx)(v,{className:"line-clamp  opacity-80 mb-6",children:e.description}),Object(O.jsx)("button",{className:"btn btn-outline btn-accent mt-auto",children:"Read Now"})]})]},t)})}))}))]})]})]})})};var U=function(){var e=k(),t=(e.contract,e.nearConfig),n=(e.currentUser,e.wallet);return Object(O.jsx)(C,{className:"flex items-stretch",children:Object(O.jsxs)("div",{className:"container flex flex-col justify-center md:grid md:grid-cols-2 my-auto md:gap-16",children:[Object(O.jsx)("div",{children:Object(O.jsx)("img",{src:"https://firebasestorage.googleapis.com/v0/b/mindyksi.appspot.com/o/bookwishes%2Fsalyrocket.png?alt=media",alt:""})}),Object(O.jsxs)("div",{className:"flex flex-col md:justify-center",children:[Object(O.jsxs)("div",{className:"mb-6",children:[Object(O.jsx)(f,{className:"mb-4 md:mb-6",children:"Login and Enjoy Your Book"}),Object(O.jsx)(w,{children:"Get your favorite book and pick the book to read next"})]}),Object(O.jsx)("button",{className:"btn btn-primary hover-effect bg-primary_gradient w-full border-none md:w-min whitespace-nowrap shadow-md",onClick:function(){n.requestSignIn(t.contractName,"NEAR book wishes")},type:"button",children:"Login with Near Wallet"})]})]})})},T=function(){return Object(O.jsx)("div",{children:Object(O.jsx)(C,{children:"library"})})};var E=function(e){var t=e.path,n=e.exact,c=e.children;return k().currentUser?Object(O.jsx)(h.b,{path:t,exact:n,children:c}):Object(O.jsx)(h.a,{to:"/login"})},I=function(e){var t={contract:e.contract,nearConfig:e.nearConfig,currentUser:e.currentUser,wallet:e.wallet};return Object(O.jsx)(y,{value:t,children:Object(O.jsx)(b.a,{basename:"/book-wishes",children:Object(O.jsxs)(h.d,{children:[Object(O.jsx)(h.b,{path:"/login",children:Object(O.jsx)(U,{})}),Object(O.jsx)(E,{path:"/library",children:Object(O.jsx)(T,{})}),Object(O.jsx)(E,{path:"/",exact:!0,children:Object(O.jsx)(_,{})})]})})})},A=n(77),R=n.n(A);function L(){return(L=Object(o.a)(r.a.mark((function e(){var t,n,c,o,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=R()("production"),e.next=3,d.connect(Object(s.a)({deps:{keyStore:new d.keyStores.BrowserLocalStorageKeyStore}},t));case 3:if(n=e.sent,!(c=new d.WalletConnection(n)).getAccountId()){e.next=11;break}return e.t0=c.getAccountId(),e.next=9,c.account().state();case 9:e.t1=e.sent.amount,o={accountId:e.t0,balance:e.t1};case 11:return e.next=13,new d.Contract(c.account(),t.contractName,{viewMethods:["get_book","get_books"],changeMethods:["add_book","update_book","delete_book"],sender:c.getAccountId()});case 13:return a=e.sent,e.abrupt("return",{contract:a,currentUser:o,nearConfig:t,walletConnection:c});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.nearInitPromise=function(){return L.apply(this,arguments)}().then((function(e){var t=e.contract,n=e.currentUser,c=e.nearConfig,r=e.walletConnection;l.a.render(Object(O.jsx)(I,{contract:t,currentUser:n,nearConfig:c,wallet:r}),document.getElementById("root"))}))},77:function(e,t){var n=Object({NODE_ENV:"production",PUBLIC_URL:"/book-wishes",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).CONTRACT_NAME||"mindy11.testnet";e.exports=function(e){switch(e){case"mainnet":return{networkId:"mainnet",nodeUrl:"https://rpc.mainnet.near.org",contractName:n,walletUrl:"https://wallet.near.org",helperUrl:"https://helper.mainnet.near.org"};case"production":case"development":case"testnet":return{networkId:"testnet",nodeUrl:"https://rpc.testnet.near.org",contractName:n,walletUrl:"https://wallet.testnet.near.org",helperUrl:"https://helper.testnet.near.org"};case"betanet":return{networkId:"betanet",nodeUrl:"https://rpc.betanet.near.org",contractName:n,walletUrl:"https://wallet.betanet.near.org",helperUrl:"https://helper.betanet.near.org"};case"local":return{networkId:"local",nodeUrl:"http://localhost:3030",keyPath:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/book-wishes",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).HOME,"/.near/validator_key.json"),walletUrl:"http://localhost:4000/wallet",contractName:n};case"test":case"ci":return{networkId:"shared-test",nodeUrl:"https://rpc.ci-testnet.near.org",contractName:n,masterAccount:"test.near"};case"ci-betanet":return{networkId:"shared-test-staging",nodeUrl:"https://rpc.ci-betanet.near.org",contractName:n,masterAccount:"test.near"};default:throw Error("Unconfigured environment '".concat(e,"'. Can be configured in src/config.js."))}}},88:function(e,t){},98:function(e,t){}},[[167,1,2]]]);
//# sourceMappingURL=main.530bf603.chunk.js.map