(this["webpackJsonpmark-book"]=this["webpackJsonpmark-book"]||[]).push([[0],{133:function(e,t){var c=Object({NODE_ENV:"production",PUBLIC_URL:"/book-wishes",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).CONTRACT_NAME||"mindy11.testnet";e.exports=function(e){switch(e){case"mainnet":return{networkId:"mainnet",nodeUrl:"https://rpc.mainnet.near.org",contractName:c,walletUrl:"https://wallet.near.org",helperUrl:"https://helper.mainnet.near.org"};case"production":case"development":case"testnet":return{networkId:"testnet",nodeUrl:"https://rpc.testnet.near.org",contractName:c,walletUrl:"https://wallet.testnet.near.org",helperUrl:"https://helper.testnet.near.org"};case"betanet":return{networkId:"betanet",nodeUrl:"https://rpc.betanet.near.org",contractName:c,walletUrl:"https://wallet.betanet.near.org",helperUrl:"https://helper.betanet.near.org"};case"local":return{networkId:"local",nodeUrl:"http://localhost:3030",keyPath:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/book-wishes",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).HOME,"/.near/validator_key.json"),walletUrl:"http://localhost:4000/wallet",contractName:c};case"test":case"ci":return{networkId:"shared-test",nodeUrl:"https://rpc.ci-testnet.near.org",contractName:c,masterAccount:"test.near"};case"ci-betanet":return{networkId:"shared-test-staging",nodeUrl:"https://rpc.ci-betanet.near.org",contractName:c,masterAccount:"test.near"};default:throw Error("Unconfigured environment '".concat(e,"'. Can be configured in src/config.js."))}}},145:function(e,t){},155:function(e,t){},173:function(e,t){},201:function(e,t,c){},323:function(e,t,c){"use strict";c.r(t);var n=c(2),s=c.n(n),a=c(7),o=c(19),r=c(1),i=c(63),l=c.n(i),d=c(49),b=(c(201),c(202),c(203),c(204),c(20)),j=c(5),h=c(3),u=c(4),m=c(64),x=c(127),O=c.n(x),p=c(13),f=c(10),g=c.n(f),v=c(27),N=c(134),w=c(37),k=c(0),y=Object(r.createContext)();function S(){return Object(r.useContext)(y)}function _(e){var t=e.children,c=e.value;return Object(k.jsx)(y.Provider,{value:c,children:t})}var C=function(){return Object(k.jsx)("div",{className:"fixed inset-0 bg-gray-600 z-50 bg-opacity-50 flex justify-center items-center",children:Object(k.jsx)("div",{className:"animate-spin h-8 w-8 border-t-4 border-r-4 border-solid border-bookwishes rounded-full"})})},T=function(e){var t=e.children,c=e.className;return Object(k.jsx)("h1",{className:g()("typo-h1",c),children:t})},U=function(e){var t=e.children,c=e.className;return Object(k.jsx)("h2",{className:g()("typo-h2",c),children:t})},E=function(e){var t=e.children,c=e.className;return Object(k.jsx)("p",{className:g()("typo-sub",c),children:t})},A=function(e){var t=e.children,c=e.className;return Object(k.jsx)("p",{className:g()("text-lg",c),children:t})},B=function(e){var t=e.id,c=e.children,n=e.text,s=e.actionText,a=e.handleClick,o=e.className,r=e.noAction,i=void 0!==r&&r;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("label",{for:"bookwish__modal".concat(t),className:g()("btn btn-primary modal-button",o),children:n||"Click me"}),Object(k.jsx)("input",{type:"checkbox",id:"bookwish__modal".concat(t),className:"modal-toggle"}),Object(k.jsxs)("div",{className:"modal",children:[Object(k.jsx)("label",{for:"bookwish__modal".concat(t),className:"absolute inset-0"}),Object(k.jsxs)("div",{className:"modal-box",children:[c,!i&&Object(k.jsxs)("div",{className:"modal-action",children:[s&&Object(k.jsx)("label",{for:"bookwish__modal".concat(t),onClick:a,className:"btn btn-accent bg-bookwishes border-none",children:s}),Object(k.jsx)("label",{for:"bookwish__modal".concat(t),className:"btn",children:"Close"})]})]})]})]})},L=w.a({title:w.b().required(),status:w.b().required(),description:w.b().required(),image:w.b().required()}).required(),F=function(e){var t,c,n,s,o=e.bookData,i=e.id,l=S().contract,d=Object(r.useState)(!1),b=Object(u.a)(d,2),j=b[0],h=b[1],m=Object(v.d)({resolver:Object(N.a)(L),defaultValues:Object(r.useMemo)((function(){return o}),[o])}),x=m.register,O=m.handleSubmit,f=m.reset,g=m.formState.errors;Object(r.useEffect)((function(){f(o)}),[o]);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("form",{onSubmit:O((function(e){h(!0),o?l.update_book(Object(a.a)({book_id:o.book_id},e)).then((function(){return p.b.success("Book updated! \ud83e\udd18")})).then((function(){return window.location.reload(!1)})).catch((function(e){console.log(e),h(!1),p.b.error("Failed to update the book! \ud83d\ude22")})):l.add_book({book:e}).then((function(){return h(!1)})).then((function(){return p.b.success("Book added! \ud83e\udd18")})).then((function(){return window.location.reload(!1)})).catch((function(e){console.log(e),h(!1),p.b.error("Failed to add the book! \ud83d\ude22")}))})),children:[Object(k.jsx)(E,{className:"mb-4",children:o?"Book Detail":"Add new book"}),Object(k.jsxs)("div",{className:"form-control mb-2",children:[Object(k.jsx)("label",{className:"label",children:Object(k.jsx)("span",{className:"label-text",children:"Title"})}),Object(k.jsx)("input",Object(a.a)(Object(a.a)({},x("title")),{},{type:"text",placeholder:"title",className:"input input-bordered",value:null===o||void 0===o?void 0:o.title,disabled:null===o||void 0===o?void 0:o.title})),Object(k.jsx)("p",{className:"text-error text-sm",children:null===(t=g.title)||void 0===t?void 0:t.message})]}),Object(k.jsxs)("div",{className:"form-control mb-2",children:[Object(k.jsx)("label",{className:"label",children:Object(k.jsx)("span",{className:"label-text",children:"Description"})}),Object(k.jsx)("textarea",Object(a.a)(Object(a.a)({},x("description")),{},{type:"text",placeholder:"description",className:"textarea h-24 textarea-bordered",value:null===o||void 0===o?void 0:o.description,disabled:null===o||void 0===o?void 0:o.description})),Object(k.jsx)("p",{className:"text-error text-sm",children:null===(c=g.description)||void 0===c?void 0:c.message})]}),Object(k.jsxs)("div",{className:"form-control mb-2",children:[Object(k.jsx)("label",{className:"label",children:Object(k.jsx)("span",{className:"label-text",children:"Image Link"})}),Object(k.jsx)("input",Object(a.a)(Object(a.a)({},x("image")),{},{type:"text",placeholder:"eg.https://example.png",className:"input input-bordered",value:null===o||void 0===o?void 0:o.image,disabled:null===o||void 0===o?void 0:o.image})),Object(k.jsx)("p",{className:"text-error text-sm",children:null===(n=g.image)||void 0===n?void 0:n.message})]}),Object(k.jsxs)("div",{className:"form-control mb-2",children:[Object(k.jsx)("label",{className:"label",children:Object(k.jsx)("span",{className:"label-text",children:"Status"})}),Object(k.jsxs)("select",Object(a.a)(Object(a.a)({},x("status")),{},{className:"select select-bordered w-full",children:[Object(k.jsx)("option",{selected:"List"===(null===o||void 0===o?void 0:o.status),children:"List"}),Object(k.jsx)("option",{selected:"Read"===(null===o||void 0===o?void 0:o.status),children:"Read"}),Object(k.jsx)("option",{selected:"Finished"===(null===o||void 0===o?void 0:o.status),children:"Finished"})]})),Object(k.jsx)("p",{className:"text-error text-sm",children:null===(s=g.status)||void 0===s?void 0:s.message})]}),o&&Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"divider opacity-20"}),Object(k.jsx)(B,{id:"remove".concat(i),text:"Remove the book",actionText:"Yes",className:"btn-outline btn-error w-full ",handleClick:function(){return h(!0),void(o&&l.delete_book({book_id:o.book_id}).then((function(){return h(!1)})).then((function(){return p.b.success("Book removed! \ud83e\udd27")})).then((function(){return window.location.reload(!1)})).catch((function(e){console.log(e),h(!1),p.b.error("Failed to remove the book! \ud83d\ude22")})))},children:Object(k.jsxs)(A,{className:"mt-5",children:["Do you want to remove the book"," ",Object(k.jsx)("b",{className:"text-error",children:o.title}),"?"]})})]}),Object(k.jsxs)("div",{className:"modal-action",children:[Object(k.jsx)("input",{for:"bookwish__modal".concat(i),className:"btn btn-accent bg-bookwishes",type:"submit",value:"Save"}),Object(k.jsx)("label",{for:"bookwish__modal".concat(i),className:"btn",children:"Close"})]})]}),j&&Object(k.jsx)(C,{})]})},I=function(e){var t=e.image,c=e.title,n=e.description,s=e.status,a=e.account_id,o=e.book_id,r=e.id,i={list:"bg-error text-white",read:"bg-success text-white",finished:"bg-gray-500 text-white","best seller":"bg-warning text-white"};return Object(k.jsxs)("div",{className:"card text-center shadow flex-grow",children:[Object(k.jsx)("figure",{className:"px-10 pt-10",children:Object(k.jsx)("img",{src:t,className:"object-contain w-52 h-64",alt:""})}),Object(k.jsxs)("div",{className:"px-10 py-6 flex flex-col flex-grow",children:[Object(k.jsx)(E,{className:"card-title font-bold",children:c}),Object(k.jsx)(A,{className:"line-clamp  opacity-80 mb-6",children:n}),Object.keys(i).slice(0,3).includes(s.toLowerCase())?Object(k.jsx)(B,{id:r,noAction:!0,text:"Detail",className:" btn btn-outline btn-accent mt-auto",children:Object(k.jsx)(F,{id:r,bookData:{image:t,title:c,description:n,status:s,book_id:o,account_id:a}})}):Object(k.jsx)(b.b,{className:" btn btn-outline btn-accent mt-auto",to:"/library",children:"Go to Library"})]}),"All"!==s&&Object(k.jsx)(A,{className:g()("absolute top-8 right-0 font-bold py-2 rounded-l-2xl pr-4 pl-8 bg-white text-black",i[s.toLowerCase()]),children:s})]})},D=function(){return Object(k.jsxs)("div",{className:"bg-gray-100",children:[Object(k.jsxs)("footer",{className:"py-10 footer  text-base-content container",children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("span",{className:"footer-title",children:"Services"}),Object(k.jsx)("a",{className:"link link-hover",children:"Branding"}),Object(k.jsx)("a",{className:"link link-hover",children:"Design"}),Object(k.jsx)("a",{className:"link link-hover",children:"Marketing"}),Object(k.jsx)("a",{className:"link link-hover",children:"Advertisement"})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("span",{className:"footer-title",children:"Company"}),Object(k.jsx)("a",{className:"link link-hover",children:"About us"}),Object(k.jsx)("a",{className:"link link-hover",children:"Contact"}),Object(k.jsx)("a",{className:"link link-hover",children:"Jobs"}),Object(k.jsx)("a",{className:"link link-hover",children:"Press kit"})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("span",{className:"footer-title",children:"Social"}),Object(k.jsxs)("div",{className:"grid grid-flow-col gap-4",children:[Object(k.jsx)("a",{children:Object(k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:Object(k.jsx)("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),Object(k.jsx)("a",{children:Object(k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:Object(k.jsx)("path",{d:"M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"})})}),Object(k.jsx)("a",{children:Object(k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:Object(k.jsx)("path",{d:"M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"})})})]})]})]}),Object(k.jsx)("div",{className:"text-center w-full text-sm opacity-30 py-2",children:"\xa9 Copyright 2020 Yohni"})]})},M=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),c=t[0],n=t[1],s=S(),a=s.currentUser,o=s.wallet,i=function(){return n(!1)};return Object(k.jsxs)("div",{className:"fixed inset-0 md:inset-x-0 md:top-0 md:bottom-auto md:bg-neutral pointer-events-none z-20",children:[Object(k.jsxs)("div",{className:"navbar shadow-lg bg-neutral text-neutral-content z-20 relative pointer-events-auto",children:[Object(k.jsx)(b.b,{to:"/",className:"flex-1 px-2 mx-2",children:Object(k.jsxs)("div",{className:"flex items-center",children:[Object(k.jsx)("span",{className:"text-lg font-bold bg-bookwishes p-2 rounded-md",children:"BW"}),Object(k.jsx)("span",{className:"font-bold text-lg ml-2",children:"Book Wish"})]})}),Object(k.jsx)("div",{className:"flex-none md:hidden",children:Object(k.jsx)("button",{type:"button",className:"btn btn-square btn-ghost",onClick:function(){return n(!c)},children:Object(k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"inline-block w-6 h-6 stroke-current",children:Object(k.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})})})})]}),Object(k.jsx)("div",{className:"absolute md:h-auto inset-x-0 md:left-auto top-0 md:bottom-0 h-0 bg-neutral md:bg-transparent duration-300 transition-all z-10 md:z-20 flex justify-center items-center text-white md:mr-2 md:pr-2 pointer-events-auto ".concat(c&&"h-screen"),children:Object(k.jsxs)("div",{className:"flex flex-col md:flex-row items-stretch w-full md:w-min",children:[Object(k.jsx)(b.b,{to:"/",onClick:i,className:"btn btn-ghost btn-sm rounded-btn hover-effect",children:"Home"}),Object(k.jsx)(b.b,{to:"/library",onClick:i,className:"btn btn-ghost btn-sm rounded-btn hover-effect",children:"Library"}),!a&&Object(k.jsx)(b.b,{to:"/login",onClick:i,className:"btn btn-ghost btn-sm rounded-btn hover-effect",children:"Login"}),a&&Object(k.jsx)("button",{onClick:function(){o.signOut(),window.location.replace(window.location.origin+window.location.pathname)},className:"btn btn-ghost btn-sm text-red-600 rounded-btn md:border md:border-red-600 md:border-solid md:rounded-full hover:bg-red-600 hover:text-white md:px-4 hover-effect",children:"Logout"})]})})]})},R=function(e){var t=e.children,c=e.className;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(M,{}),Object(k.jsx)("div",{className:g()("pt-16 min-h-screen pb-9",c),children:t}),Object(k.jsx)(D,{})]})},P=function(){var e=S(),t=e.contract,c=e.nearConfig,n=e.currentUser,s=e.wallet,o=Object(j.g)(),i=Object(r.useState)(null),l=Object(u.a)(i,2),d=l[0],b=l[1],x=Object(r.useState)(!1),f=Object(u.a)(x,2),g=f[0],v=f[1],N=Object(r.useState)(!0),w=Object(u.a)(N,2),y=w[0],_=w[1],A=Object(r.useState)([]),B=Object(u.a)(A,2),L=B[0],F=B[1],D=Object(r.useState)(0),M=Object(u.a)(D,2),P=M[0],W=M[1];Object(r.useEffect)((function(){!function(e){var c=e.skip,s=e.limit;v(!0),t.get_books({account_id:n.account_id,skip:c,limit:s}).then((function(e){return b(e)})).then((function(){return v(!1)})).catch((function(e){v(!1),console.log(e),p.b.error("Failed to fetch data \ud83d\ude22")}))}({skip:0,limit:10})}),[]),Object(r.useEffect)((function(){!function(e){var c=e.skip,s=e.limit;v(!0),t.get_books({account_id:n.account_id,skip:c,limit:s}).then((function(e){return F([].concat(Object(h.a)(e),Object(h.a)(L)))})).then((function(){return v(!1)})).catch((function(e){v(!1),_(!1),console.log(e),String(e).includes("please use a smaller skip")||p.b.error("Failed to fetch data \ud83d\ude22")}))}({skip:P,limit:10})}),[P]);return Object(k.jsxs)(R,{children:[Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"container flex flex-col justify-center md:grid md:grid-cols-2 md:gap-x-16 my-auto py-9 md:py-24 min-h-splash",children:[Object(k.jsxs)("div",{className:"flex flex-col md:justify-center",children:[Object(k.jsxs)("div",{className:"mb-6",children:[Object(k.jsx)(E,{className:"mb-4",children:"Online Book Stores"}),Object(k.jsxs)(T,{className:"mb-4 md:mb-6",children:["Collect Your Most Wish Book by"," ",Object(k.jsx)("span",{className:"bg-primary_gradient bg-clip-text text-transparent",children:"One Click"})]}),Object(k.jsx)(E,{children:"Get your favorite book and pick the book to read next"})]}),Object(k.jsx)("button",{className:"btn btn-primary bg-secondary_gradient hover-effect btn-lg w-full border-none md:w-min whitespace-nowrap shadow-md",onClick:function(){v(!0),n?setTimeout((function(){o.push("/library")}),3e3):s.requestSignIn(c.contractName,"NEAR book wishes")},type:"button",children:"Sign Up Now"})]}),Object(k.jsx)("div",{children:Object(k.jsx)("img",{className:"max-w-2xl w-full mt-9",src:"https://firebasestorage.googleapis.com/v0/b/mindyksi.appspot.com/o/bookwishes%2Fsalyread.png?alt=media",alt:""})})]}),Object(k.jsxs)("div",{className:"py-7 md:py-9",children:[Object(k.jsxs)("div",{className:"container text-center mb-6",children:[Object(k.jsx)(U,{className:"mb-2",children:"Best Seller"}),Object(k.jsx)(E,{className:"",children:"Almost read by a lot of reader"})]}),Object(k.jsx)("div",{className:"mx-auto container px-4",children:Object(k.jsx)(O.a,Object(a.a)(Object(a.a)({},{dots:!0,infinite:!0,speed:500,slidesToShow:4,slidesToScroll:4,responsive:[{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:800,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}),{},{children:null===d||void 0===d?void 0:d.map((function(e,t){return Object(k.jsx)("div",{className:"p-4 h-full",children:Object(k.jsx)(I,Object(a.a)(Object(a.a)({},e),{},{status:"Best Seller"}))},t)}))}))})]}),Object(k.jsx)("div",{className:"py-9 md:py-48 bg-bookwishes text-white",children:Object(k.jsx)("div",{className:"container",children:Object(k.jsxs)(T,{children:[Object(k.jsx)("q",{className:"italic",children:"It is a good rule after reading a new book, never to allow yourself another new one till you have read an old one in between."}),"\u2014C.S. Lewis"]})})}),Object(k.jsxs)("div",{className:"py-7 md:py-9",children:[Object(k.jsxs)("div",{className:"container text-center mb-6",children:[Object(k.jsx)(U,{className:"mb-2",children:"All book we have"}),Object(k.jsx)(E,{className:"",children:"Pick your book!"})]}),Object(k.jsx)(m.a,{dataLength:L.length,next:function(){W(P+10)},hasMore:y,loader:Object(k.jsx)("h4",{className:"text-center text-lg text-gray-400",children:"Catching more books..."}),children:Object(k.jsx)("div",{className:"container py-6 md:py-9",children:Object(k.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3 md:gap-9",children:L.map((function(e,t){return Object(k.jsx)("div",{className:"h-full flex flex-col",children:Object(k.jsx)(I,Object(a.a)({id:t},e))},t)}))})})}),!g&&L.length<1&&Object(k.jsxs)("div",{className:"w-full h-96 flex flex-col justify-center items-center text-xl",children:[Object(k.jsx)("div",{children:"\ud83d\ude45\ud83c\udffb\u200d\u2642\ufe0f"}),Object(k.jsx)("div",{className:"text-neutral opacity-60 font-bold",children:"Books not found!"})]})]})]}),g&&Object(k.jsx)(C,{})]})};var W=function(){var e=S(),t=e.nearConfig,c=e.currentUser,n=e.wallet,s=Object(r.useState)(!1),a=Object(u.a)(s,2),o=a[0],i=a[1];return c?Object(k.jsx)(j.a,{to:"/library"}):Object(k.jsxs)(R,{className:"flex items-stretch",children:[Object(k.jsxs)("div",{className:"container flex flex-col justify-center md:grid md:grid-cols-2 my-auto md:gap-16",children:[Object(k.jsx)("div",{children:Object(k.jsx)("img",{src:"https://firebasestorage.googleapis.com/v0/b/mindyksi.appspot.com/o/bookwishes%2Fsalyrocket.png?alt=media",alt:""})}),Object(k.jsxs)("div",{className:"flex flex-col md:justify-center",children:[Object(k.jsxs)("div",{className:"mb-6",children:[Object(k.jsx)(T,{className:"mb-4 md:mb-6",children:"Login and Enjoy Your Book"}),Object(k.jsx)(E,{children:"Get your favorite book and pick the book to read next"})]}),Object(k.jsx)("button",{className:"btn btn-primary hover-effect bg-primary_gradient w-full border-none md:w-min whitespace-nowrap shadow-md",onClick:function(){i(!0),n.requestSignIn(t.contractName,"NEAR book wishes")},type:"button",children:"Login with Near Wallet"})]})]}),o&&Object(k.jsx)(C,{})]})},q=function(){var e=S(),t=e.contract,c=(e.nearConfig,e.currentUser),n=(e.wallet,Object(r.useState)("All")),s=Object(u.a)(n,2),o=s[0],i=s[1],l=Object(r.useState)(!1),d=Object(u.a)(l,2),b=d[0],j=d[1],x=Object(r.useState)([]),O=Object(u.a)(x,2),f=O[0],v=O[1],N=Object(r.useState)([]),w=Object(u.a)(N,2),y=w[0],_=w[1],T=Object(r.useState)(0),U=Object(u.a)(T,2),E=U[0],L=U[1],D=Object(r.useState)(10),M=Object(u.a)(D,2),P=M[0],W=(M[1],Object(r.useState)(!0)),q=Object(u.a)(W,2),z=q[0],H=q[1],K=function(e){var n=e.skip,s=e.limit;j(!0),t.get_books({account_id:c.account_id,skip:n,limit:s}).then((function(e){v([].concat(Object(h.a)(f),Object(h.a)(e)))})).then((function(){return j(!1)})).catch((function(e){j(!1),H(!1),console.log(e),String(e).includes("please use a smaller skip")||p.b.error("Failed to fetch data \ud83d\ude22")}))};return Object(r.useEffect)((function(){K({skip:E,limit:P})}),[E,P]),Object(r.useEffect)((function(){K({skip:E,limit:P})}),[]),Object(r.useEffect)((function(){if(j(!0),"All"===o)_(f);else{var e=f.filter((function(e){return e.status===o}));_(e)}j(!1)}),[f,o]),Object(k.jsxs)(R,{children:[Object(k.jsx)("div",{className:"tabs tabs-boxed container mt-9 mb-5",children:["All","List","Read","Finished"].map((function(e,t){return Object(k.jsx)("button",{type:"button",onClick:(c=e,function(){i(c)}),className:g()("tab rounded-lg transition-colors duration-200",{"bg-bookwishes text-white":o===e}),children:Object(k.jsx)(A,{children:e})},t);var c}))}),Object(k.jsx)(m.a,{dataLength:y.length,next:function(){L(E+10)},hasMore:z,loader:Object(k.jsx)("h4",{className:"text-center text-lg text-gray-400",children:"Catching more books..."}),children:Object(k.jsx)("div",{className:"container py-6 md:py-9",children:Object(k.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3 md:gap-9",children:y.map((function(e,t){return Object(k.jsx)("div",{className:"h-full flex flex-col",children:Object(k.jsx)(I,Object(a.a)({id:t},e))},t)}))})})}),!b&&y.length<1&&Object(k.jsxs)("div",{className:"w-full h-96 flex flex-col justify-center items-center text-xl",children:[Object(k.jsx)("div",{children:"\ud83d\ude45\ud83c\udffb\u200d\u2642\ufe0f"}),Object(k.jsx)("div",{className:"text-neutral opacity-60 font-bold",children:"Books not found!"})]}),Object(k.jsx)(B,{noAction:!0,text:"+ New Book",className:"fixed bottom-8 right-8 shadow-2xl",children:Object(k.jsx)(F,{})}),b&&Object(k.jsx)(C,{})]})};var z=function(e){var t=e.path,c=e.exact,n=e.children;return S().currentUser?Object(k.jsx)(j.b,{path:t,exact:c,children:n}):Object(k.jsx)(j.a,{to:"/login"})},H=function(e){var t={contract:e.contract,nearConfig:e.nearConfig,currentUser:e.currentUser,wallet:e.wallet};return Object(k.jsxs)(_,{value:t,children:[Object(k.jsx)(b.a,{children:Object(k.jsxs)(j.d,{children:[Object(k.jsx)(j.b,{path:"/login",children:Object(k.jsx)(W,{})}),Object(k.jsx)(z,{path:"/library",children:Object(k.jsx)(q,{})}),Object(k.jsx)(z,{path:"/",exact:!0,children:Object(k.jsx)(P,{})})]})}),Object(k.jsx)(p.a,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})},K=c(133),Y=c.n(K);function G(){return(G=Object(o.a)(s.a.mark((function e(){var t,c,n,o,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Y()("production"),e.next=3,d.connect(Object(a.a)({deps:{keyStore:new d.keyStores.BrowserLocalStorageKeyStore}},t));case 3:if(c=e.sent,!(n=new d.WalletConnection(c)).getAccountId()){e.next=11;break}return e.t0=n.getAccountId(),e.next=9,n.account().state();case 9:e.t1=e.sent.amount,o={accountId:e.t0,balance:e.t1};case 11:return e.next=13,new d.Contract(n.account(),t.contractName,{viewMethods:["get_book","get_books"],changeMethods:["add_book","update_book","delete_book"],sender:n.getAccountId()});case 13:return r=e.sent,e.abrupt("return",{contract:r,currentUser:o,nearConfig:t,walletConnection:n});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.nearInitPromise=function(){return G.apply(this,arguments)}().then((function(e){var t=e.contract,c=e.currentUser,n=e.nearConfig,s=e.walletConnection;l.a.render(Object(k.jsx)(H,{contract:t,currentUser:c,nearConfig:n,wallet:s}),document.getElementById("root"))}))}},[[323,1,2]]]);
//# sourceMappingURL=main.02eb4fe4.chunk.js.map